[gd_scene load_steps=28 format=3 uid="uid://c85upihop1f2h"]

[ext_resource type="Texture2D" uid="uid://6w00xex8cejs" path="res://images/char_01.png" id="1_audty"]
[ext_resource type="Script" path="res://player.gd" id="1_im0n3"]
[ext_resource type="TileSet" uid="uid://cfj75ve127hdp" path="res://interior.tres" id="3_aryoq"]
[ext_resource type="Script" path="res://npc.gd" id="3_axne1"]
[ext_resource type="Texture2D" uid="uid://f45jrlxjpuu4" path="res://images/char_04.png" id="3_q1weh"]
[ext_resource type="Texture2D" uid="uid://c1573yuhpdxjd" path="res://images/dialogue_popup.png" id="5_e6cjm"]
[ext_resource type="Script" path="res://dialouge_box.gd" id="6_qdxx0"]

[sub_resource type="AtlasTexture" id="AtlasTexture_82bhj"]
atlas = ExtResource("1_audty")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_io45b"]
atlas = ExtResource("1_audty")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_w8bf7"]
atlas = ExtResource("1_audty")
region = Rect2(0, 16, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_h7tv0"]
atlas = ExtResource("1_audty")
region = Rect2(16, 16, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_jefb5"]
atlas = ExtResource("1_audty")
region = Rect2(0, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_w3tsf"]
atlas = ExtResource("1_audty")
region = Rect2(16, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_xdgm4"]
atlas = ExtResource("1_audty")
region = Rect2(0, 48, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_uq47c"]
atlas = ExtResource("1_audty")
region = Rect2(16, 48, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_ph582"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_82bhj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_io45b")
}],
"loop": true,
"name": &"walking_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_w8bf7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h7tv0")
}],
"loop": true,
"name": &"walking_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jefb5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w3tsf")
}],
"loop": true,
"name": &"walking_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_xdgm4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uq47c")
}],
"loop": true,
"name": &"walking_up",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qwxx6"]
size = Vector2(12, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_m6fue"]
atlas = ExtResource("3_q1weh")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_ewtpl"]
atlas = ExtResource("3_q1weh")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_hrft2"]
atlas = ExtResource("3_q1weh")
region = Rect2(0, 16, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_o11qs"]
atlas = ExtResource("3_q1weh")
region = Rect2(16, 16, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_58kh7"]
atlas = ExtResource("3_q1weh")
region = Rect2(0, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_w1xn5"]
atlas = ExtResource("3_q1weh")
region = Rect2(16, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_516i2"]
atlas = ExtResource("3_q1weh")
region = Rect2(0, 48, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_gt4ek"]
atlas = ExtResource("3_q1weh")
region = Rect2(16, 48, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_8fey0"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_m6fue")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ewtpl")
}],
"loop": true,
"name": &"walking_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_hrft2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o11qs")
}],
"loop": true,
"name": &"walking_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_58kh7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w1xn5")
}],
"loop": true,
"name": &"walking_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_516i2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gt4ek")
}],
"loop": true,
"name": &"walking_up",
"speed": 5.0
}]

[sub_resource type="CanvasTexture" id="CanvasTexture_4n076"]
diffuse_texture = ExtResource("5_e6cjm")

[node name="Node2D" type="Node2D"]

[node name="PlayerBody2D" type="CharacterBody2D" parent="." node_paths=PackedStringArray("animation", "tilemap")]
motion_mode = 1
script = ExtResource("1_im0n3")
SPEED = 100.0
animation = NodePath("AnimatedSprite2D")
interact_distance = 16
tilemap = NodePath("../TileMap")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="PlayerBody2D"]
texture_filter = 1
sprite_frames = SubResource("SpriteFrames_ph582")
animation = &"walking_up"

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerBody2D"]
shape = SubResource("RectangleShape2D_qwxx6")

[node name="CharacterBody2D2" type="CharacterBody2D" parent="." node_paths=PackedStringArray("dialouge_box")]
position = Vector2(76, -79)
motion_mode = 1
script = ExtResource("3_axne1")
dialouge_box = NodePath("../CanvasLayer/MarginContainer")
interact_text = Array[String](["Hey guy!", "I'm the desk clerk!", "This is a third message :)"])

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="CharacterBody2D2"]
texture_filter = 1
sprite_frames = SubResource("SpriteFrames_8fey0")
animation = &"walking_down"

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D2"]
shape = SubResource("RectangleShape2D_qwxx6")

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(2, 2)

[node name="TileMap" type="TileMap" parent="."]
texture_filter = 1
tile_set = ExtResource("3_aryoq")
format = 2
layer_0/z_index = -1
layer_0/tile_data = PackedInt32Array(196605, 196609, 17, 196606, 196609, 17, 196607, 196609, 17, 131072, 196609, 17, 131073, 196609, 17, 131074, 196609, 17, 131075, 196609, 17, 131076, 196609, 17, 131077, 196609, 17, 65541, 196609, 17, 5, 196609, 17, -65531, 196609, 17, -131067, 196609, 17, -196603, 196609, 17, -262139, 196609, 17, -327675, 196609, 17, -393211, 196609, 17, -393212, 196609, 17, -393213, 196609, 17, -393214, 196609, 17, -393215, 196609, 17, -393216, 196609, 17, -327681, 196609, 17, -327682, 196609, 17, -327683, 196609, 17, -262147, 196609, 17, -196611, 196609, 17, -131075, 196609, 17, -65539, 196609, 17, -3, 196609, 17, 65533, 196609, 17, 131069, 196609, 17, 131070, 196609, 17, 131071, 196609, 17, 65536, 196609, 17, 65537, 196609, 17, 65538, 196609, 17, 65539, 196609, 17, 65540, 196609, 17, 4, 196609, 17, -65532, 196609, 17, -131068, 196609, 17, -196604, 196609, 17, -262140, 196609, 17, -327676, 196609, 17, -327677, 196609, 17, -327679, 196609, 17, -327680, 196609, 17, -262145, 196609, 17, -196609, 196609, 17, -196610, 196609, 17, -131074, 196609, 17, -65538, 196609, 17, -1, 196609, 17, -65536, 196609, 17, -65535, 196609, 17, -65534, 196609, 17, -131070, 196609, 17, -196607, 196609, 17, -262143, 196609, 17, -262146, 196609, 17, -2, 196609, 17, 65534, 196609, 17, 0, 196609, 17, -131072, 196609, 17, 65535, 196609, 17, 2, 196609, 17, 3, 196609, 17, -131069, 196609, 17, 1, 196609, 17, -65533, 196609, 17, -196605, 196609, 17, -262141, 196609, 17, -262142, 196609, 17, -196608, 196609, 17, -131071, 196609, 17, -196606, 196609, 17, -65537, 196609, 17, -262144, 196609, 17, -131073, 196609, 17, -327678, 196609, 17, 196609, 131073, 23, 196610, 131073, 23)
layer_1/tile_data = PackedInt32Array(262140, 1, 3, 262141, 65537, 3, 262142, 65537, 3, 196604, 1, 2, 131068, 196609, 2, 65532, 196609, 2, -4, 196609, 2, -65540, 196609, 2, -131076, 196609, 2, -196612, 196609, 2, -262148, 196609, 2, -327684, 196609, 2, -393220, 1, 1, 262143, 65537, 3, 196608, 65537, 3, 196609, 2, 1, 196611, 65537, 3, 196612, 65537, 3, 196613, 65537, 3, 196614, 131073, 3, 131078, 131073, 2, 196605, 65537, 2, 196606, 65537, 2, 196607, 65537, 2, 131072, 65537, 2, 131073, 65537, 0, 131074, 65537, 0, 131075, 65537, 2, 131076, 65537, 2, 131077, 65537, 2, 65542, 196609, 2, 6, 196609, 2, -65530, 196609, 2, -131066, 196609, 2, -196602, 196609, 2, -262138, 196609, 2, -327674, 196609, 2, -393210, 196609, 2, -458746, 131073, 1, -393219, 65537, 3, -393218, 65537, 3, -393217, 65537, 3, -458752, 65537, 3, -458751, 65537, 3, -458750, 65537, 3, -458749, 65537, 3, -458748, 65537, 3, -458747, 65537, 3, -458756, 1, 0, -458755, 65537, 2, -458754, 65537, 2, -458753, 65537, 2, -524288, 65537, 2, -524287, 65537, 2, -524286, 65537, 2, -524285, 65537, 2, -524284, 65537, 2, -524283, 65537, 2, -524282, 131073, 0, 196610, 65538, 1, -327683, 131074, 2, -327682, 131074, 2, -262139, 65537, 3, -262140, 65537, 3, -262141, 65537, 3, -262142, 65537, 3, -262143, 1, 3)
layer_2/name = "Player Controlled"
layer_2/tile_data = PackedInt32Array()
layer_3/name = "Tranparent"
layer_3/modulate = Color(1, 1, 1, 0.478431)
layer_3/tile_data = PackedInt32Array()

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer" node_paths=PackedStringArray("rich_text", "player")]
visible = false
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -257.0
grow_horizontal = 2
grow_vertical = 0
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 20
script = ExtResource("6_qdxx0")
rich_text = NodePath("TextureRect/DialougeText")
player = NodePath("../../PlayerBody2D")

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/MarginContainer"]
layout_mode = 2
texture = SubResource("CanvasTexture_4n076")
expand_mode = 1

[node name="DialougeText" type="RichTextLabel" parent="CanvasLayer/MarginContainer/TextureRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 28.0
offset_top = 32.0
offset_right = -29.0
offset_bottom = -31.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/default_color = Color(0.0588235, 0.0588235, 0.0588235, 1)
theme_override_font_sizes/normal_font_size = 23
text = "Hello goober. You're a goofball teehee"
